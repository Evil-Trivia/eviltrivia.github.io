<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Evil Trivia - Vine Word Ladder</title>
  <script src="/js/components/autoload-banner.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #2E7D32; /* Forest green background */
      margin-top: 60px;
      min-height: 100vh;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }
    
    h1 {
      text-align: center;
      color: #fff;
      margin-bottom: 10px;
    }
    
    .subtitle {
      text-align: center;
      color: #E8F5E9;
      margin-bottom: 20px;
      font-size: 16px;
      line-height: 1.5;
    }
    
    .subtitle a {
      color: #fff;
      text-decoration: underline;
      font-weight: bold;
    }
    
    .subtitle a:hover {
      color: #C8E6C9;
    }

    .game-card {
      background: white;
      border-radius: 8px;
      padding: 30px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      margin-top: 20px;
      position: relative;
    }
    
    .date-display {
      text-align: center;
      margin-bottom: 20px;
      font-size: 14px;
      color: #777;
    }
    
    .word-ladder {
      margin: 30px 0;
    }
    
    .ladder-rung {
      display: flex;
      margin-bottom: 15px;
      align-items: center;
    }
    
    .ladder-position {
      width: 30px;
      text-align: center;
      font-weight: bold;
      color: #555;
    }
    
    .ladder-word {
      flex: 1;
      display: flex;
      justify-content: center;
      gap: 5px;
    }
    
    .letter-box {
      width: 40px;
      height: 40px;
      border: 2px solid #ccc;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      font-weight: bold;
      text-transform: uppercase;
      background-color: #f8f8f8;
    }
    
    .filled {
      background-color: #C8E6C9;
      border-color: #81C784;
    }
    
    .ladder-hint {
      flex: 1;
      padding-left: 15px;
      color: #555;
      font-style: italic;
    }
    
    .answer-form {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
      margin-top: 30px;
    }
    
    .answer-input {
      padding: 12px;
      font-size: 16px;
      border: 2px solid #ddd;
      border-radius: 4px;
      text-align: center;
      text-transform: uppercase;
      width: 80%;
      max-width: 300px;
    }
    
    .submit-btn {
      padding: 12px 30px;
      background-color: #2E7D32;
      color: white;
      border: none;
      border-radius: 4px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    
    .submit-btn:hover {
      background-color: #1B5E20;
    }
    
    .status-message {
      margin-top: 20px;
      padding: 15px;
      border-radius: 5px;
      font-weight: bold;
      text-align: center;
    }
    
    .correct {
      background-color: #C8E6C9;
      color: #2E7D32;
    }
    
    .incorrect {
      background-color: #FFCDD2;
      color: #C62828;
    }
    
    .complete {
      background-color: #E8F5E9;
      color: #2E7D32;
      padding: 20px;
      border-radius: 8px;
      text-align: center;
      margin-top: 30px;
    }
    
    .score-display {
      margin-top: 20px;
      text-align: center;
      font-size: 18px;
      font-weight: bold;
    }
    
    .share-section {
      margin-top: 30px;
      text-align: center;
    }
    
    .share-button {
      background-color: #1B5E20;
      color: white;
      border: none;
      border-radius: 4px;
      padding: 8px 16px;
      cursor: pointer;
      transition: all 0.2s;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 5px;
      font-size: 14px;
    }
    
    .share-button:hover {
      background-color: #2E7D32;
    }
    
    .no-puzzle {
      text-align: center;
      padding: 30px;
      font-size: 18px;
      color: #555;
    }
    
    .emoji {
      font-size: 32px;
      margin-bottom: 10px;
    }
    
    .loading {
      text-align: center;
      padding: 30px;
      font-size: 18px;
    }
    
    .help-button {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 30px;
      height: 30px;
      background-color: #2E7D32;
      color: white;
      border-radius: 50%;
      text-align: center;
      line-height: 30px;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      transition: all 0.2s;
    }
    
    .help-button:hover {
      background-color: #1B5E20;
    }
    
    .help-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      z-index: 100;
      align-items: center;
      justify-content: center;
    }
    
    .help-popup {
      background-color: white;
      max-width: 500px;
      width: 90%;
      padding: 25px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      position: relative;
    }
    
    .help-popup h3 {
      margin-top: 0;
      color: #333;
    }
    
    .help-popup p {
      color: #555;
      line-height: 1.5;
    }
    
    .close-button {
      position: absolute;
      top: 15px;
      right: 15px;
      width: 24px;
      height: 24px;
      background-color: #f0f0f0;
      color: #333;
      border-radius: 50%;
      text-align: center;
      line-height: 24px;
      font-size: 14px;
      font-weight: bold;
      cursor: pointer;
    }
    
    .close-button:hover {
      background-color: #e0e0e0;
    }
    
    /* Media queries for mobile */
    @media (max-width: 480px) {
      .ladder-rung {
        flex-direction: column;
      }
      
      .ladder-hint {
        padding-left: 0;
        text-align: center;
        margin-top: 10px;
      }
      
      .letter-box {
        width: 30px;
        height: 30px;
        font-size: 16px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Vine</h1>
    <div class="subtitle">
      A daily word ladder game from Evil Trivia<br>
      Want to play in-person? <a href="https://eviltrivia.com/live/">Click here</a>
    </div>
    
    <div class="game-card" id="gameContainer">
      <!-- Help button and popup -->
      <div class="help-button" id="helpButton">?</div>
      
      <div class="help-overlay" id="helpOverlay">
        <div class="help-popup">
          <div class="close-button" id="closeHelpButton">âœ•</div>
          <h3>How to Play Vine</h3>
          <p>Vine is a word ladder game where you transform one word into another by changing one letter at a time.</p>
          <p>Each step in the ladder has a hint that describes the word you need to form.</p>
          <p>Starting from the given word, each word in the ladder differs from the previous word by exactly one letter.</p>
          <p>For example: CAT â†’ CAR â†’ BAR â†’ BAT</p>
          <p>Enter your guesses in the input box. If correct, the word will be filled in the appropriate position.</p>
          <p>Incorrect guesses will cost you 1 point from your score!</p>
          <p>Try to complete the entire ladder with the highest score possible.</p>
        </div>
      </div>
      
      <div id="loadingMessage" class="loading">
        Loading today's word ladder...
      </div>
      
      <div id="noPuzzleMessage" class="no-puzzle" style="display: none;">
        <div class="emoji">ðŸŒ¿</div>
        <p>There's no active word ladder at the moment. Please check back later!</p>
      </div>
      
      <div id="puzzleContainer" style="display: none;">
        <div id="dateDisplay" class="date-display"></div>
        
        <div id="wordLadder" class="word-ladder">
          <!-- Word ladder rungs will be generated here -->
        </div>
        
        <div id="scoreDisplay" class="score-display">
          Score: <span id="currentScore">10</span>
        </div>
        
        <form id="answerForm" class="answer-form">
          <input type="text" id="answerInput" class="answer-input" placeholder="Enter word" required>
          <button type="submit" class="submit-btn">Submit</button>
        </form>
        
        <div id="statusMessage" class="status-message" style="display: none;"></div>
        
        <div id="completionMessage" class="complete" style="display: none;">
          <h3>Congratulations!</h3>
          <p>You've completed today's word ladder with a score of <span id="finalScore">0</span>!</p>
          
          <div class="share-section">
            <button id="shareButton" class="share-button">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
                <polyline points="16 6 12 2 8 6"></polyline>
                <line x1="12" y1="2" x2="12" y2="15"></line>
              </svg>
              Share Results
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <script type="module">
    // Import Firebase modules
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.2/firebase-app.js";
    import { getDatabase, ref, get, set, push, onValue } from "https://www.gstatic.com/firebasejs/9.17.2/firebase-database.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.17.2/firebase-auth.js";
    
    // Initialize help button
    document.addEventListener('DOMContentLoaded', initializeHelpButton);
    
    function initializeHelpButton() {
      const helpButton = document.getElementById('helpButton');
      const helpOverlay = document.getElementById('helpOverlay');
      const closeHelpButton = document.getElementById('closeHelpButton');
      
      if (helpButton && helpOverlay && closeHelpButton) {
        helpButton.addEventListener('click', () => {
          helpOverlay.style.display = 'flex';
        });
        
        closeHelpButton.addEventListener('click', () => {
          helpOverlay.style.display = 'none';
        });
        
        // Close help when clicking outside the popup
        helpOverlay.addEventListener('click', (e) => {
          if (e.target === helpOverlay) {
            helpOverlay.style.display = 'none';
          }
        });
      }
    }
    
    // Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyBruAY3SH0eO000LrYqwcOGXNaUuznoMkc",
        authDomain: "eviltrivia-47664.firebaseapp.com",
        databaseURL: "https://eviltrivia-47664-default-rtdb.firebaseio.com",
        projectId: "eviltrivia-47664",
        storageBucket: "eviltrivia-47664.appspot.com",
        messagingSenderId: "401826818140",
        appId: "1:401826818140:web:c1df0bf4c602cc48231e99",
        measurementId: "G-2W6RK96Y34"
    };
    
    // Initialize Firebase
    let app, db, auth;
    try {
      app = initializeApp(firebaseConfig);
      db = getDatabase(app);
      auth = getAuth(app);
      console.log("Firebase initialized successfully");
    } catch (error) {
      console.error("Firebase initialization error:", error);
      document.getElementById('loadingMessage').innerHTML = `
        <div class="emoji">ðŸ˜ž</div>
        <p>Error initializing Firebase: ${error.message}</p>
        <p>Please try refreshing the page.</p>
      `;
    }
    
    // DOM elements
    const loadingMessage = document.getElementById('loadingMessage');
    const noPuzzleMessage = document.getElementById('noPuzzleMessage');
    const puzzleContainer = document.getElementById('puzzleContainer');
    const wordLadder = document.getElementById('wordLadder');
    const dateDisplay = document.getElementById('dateDisplay');
    const answerForm = document.getElementById('answerForm');
    const answerInput = document.getElementById('answerInput');
    const statusMessage = document.getElementById('statusMessage');
    const scoreDisplay = document.getElementById('currentScore');
    const finalScore = document.getElementById('finalScore');
    const completionMessage = document.getElementById('completionMessage');
    const shareButton = document.getElementById('shareButton');
    
    // Game state
    let currentPuzzle = null;
    let currentUserId = null;
    let userProgress = [];
    let currentScore = 10; // Start with 10 points
    let solvedPositions = new Set();
    let hasCompleted = false;
    
    // Check if user is logged in
    onAuthStateChanged(auth, (user) => {
      if (user) {
        currentUserId = user.uid;
      } else {
        currentUserId = null;
      }
      
      // Load the active word ladder
      loadActiveWordLadder();
    });
    
    // Load the active word ladder
    async function loadActiveWordLadder() {
      try {
        if (!db) {
          throw new Error("Database connection not established");
        }
        
        console.log("Starting to load active word ladder");
        const activeWordLadderRef = ref(db, 'games/vine/activePuzzle');
        
        onValue(activeWordLadderRef, async (snapshot) => {
          try {
            console.log("Active puzzle data received");
            const activePuzzleId = snapshot.val();
            
            if (!activePuzzleId) {
              // No active puzzle
              console.log("No active puzzle found");
              loadingMessage.style.display = 'none';
              noPuzzleMessage.style.display = 'block';
              puzzleContainer.style.display = 'none';
              return;
            }
            
            console.log("Active puzzle ID:", activePuzzleId);
            
            // Get the puzzle details
            const puzzleRef = ref(db, `games/vine/puzzles/${activePuzzleId}`);
            const puzzleSnapshot = await get(puzzleRef);
            currentPuzzle = puzzleSnapshot.val();
            
            if (!currentPuzzle) {
              // Puzzle not found
              console.error("Puzzle not found with ID:", activePuzzleId);
              loadingMessage.style.display = 'none';
              noPuzzleMessage.style.display = 'block';
              noPuzzleMessage.innerHTML = `
                <div class="emoji">ðŸ˜ž</div>
                <p>Puzzle not found. The active puzzle may have been deleted.</p>
              `;
              puzzleContainer.style.display = 'none';
              return;
            }
            
            // Ensure ID is set on the puzzle object
            currentPuzzle.id = activePuzzleId;
            
            // Initialize user progress
            initializeUserProgress();
            
            // Show puzzle and hide loading
            loadingMessage.style.display = 'none';
            noPuzzleMessage.style.display = 'none';
            puzzleContainer.style.display = 'block';
            
            // Display date if available
            if (currentPuzzle.date) {
              const date = new Date(currentPuzzle.date);
              const options = { year: 'numeric', month: 'long', day: 'numeric' };
              const formattedDate = date.toLocaleDateString(undefined, options);
              dateDisplay.textContent = formattedDate;
              dateDisplay.style.display = 'block';
            } else {
              dateDisplay.style.display = 'none';
            }
            
            // Display the word ladder
            displayWordLadder();
          } catch (innerError) {
            console.error("Error in onValue callback:", innerError);
            loadingMessage.style.display = 'none';
            noPuzzleMessage.style.display = 'block';
            noPuzzleMessage.innerHTML = `
              <div class="emoji">ðŸ˜ž</div>
              <p>Error loading puzzle: ${innerError.message}</p>
              <p>Please try refreshing the page.</p>
            `;
          }
        }, (error) => {
          console.error("onValue error:", error);
          loadingMessage.style.display = 'none';
          noPuzzleMessage.style.display = 'block';
          noPuzzleMessage.innerHTML = `
            <div class="emoji">ðŸ˜ž</div>
            <p>Error listening for puzzle updates: ${error.message}</p>
            <p>Please try refreshing the page.</p>
          `;
        });
      } catch (error) {
        console.error("Error in loadActiveWordLadder:", error);
        loadingMessage.style.display = 'none';
        noPuzzleMessage.style.display = 'block';
        noPuzzleMessage.innerHTML = `
          <div class="emoji">ðŸ˜ž</div>
          <p>Error loading puzzle: ${error.message}</p>
          <p>Please try refreshing the page or contact support if the issue persists.</p>
        `;
      }
    }
    
    // Initialize user progress from localStorage or Firebase
    async function initializeUserProgress() {
      // Reset game state
      userProgress = Array(currentPuzzle.ladder.length).fill(null);
      solvedPositions = new Set();
      hasCompleted = false;
      
      // Start with first word already filled
      userProgress[0] = currentPuzzle.ladder[0].word;
      solvedPositions.add(0);
      
      // Check for saved progress in localStorage
      const storageKey = `vine_progress_${currentPuzzle.id}`;
      const savedProgress = localStorage.getItem(storageKey);
      const savedScore = localStorage.getItem(`vine_score_${currentPuzzle.id}`);
      const savedCompleted = localStorage.getItem(`vine_completed_${currentPuzzle.id}`);
      
      if (savedProgress) {
        // Restore progress from localStorage
        userProgress = JSON.parse(savedProgress);
        
        // Rebuild solved positions set
        solvedPositions = new Set();
        userProgress.forEach((word, index) => {
          if (word) solvedPositions.add(index);
        });
        
        // Restore score
        if (savedScore) {
          currentScore = parseInt(savedScore, 10);
        }
        
        // Check if already completed
        if (savedCompleted === 'true') {
          hasCompleted = true;
          showCompletionMessage();
        }
      }
      // TODO: Add Firebase sync for logged-in users
      
      // Update the score display
      scoreDisplay.textContent = currentScore;
    }
    
    // Display the word ladder
    function displayWordLadder() {
      // Clear previous content
      wordLadder.innerHTML = '';
      
      // Create ladder rungs
      currentPuzzle.ladder.forEach((rung, index) => {
        const ladderRung = document.createElement('div');
        ladderRung.className = 'ladder-rung';
        
        // Position number
        const positionElement = document.createElement('div');
        positionElement.className = 'ladder-position';
        positionElement.textContent = (index + 1);
        ladderRung.appendChild(positionElement);
        
        // Word (as letter boxes)
        const wordElement = document.createElement('div');
        wordElement.className = 'ladder-word';
        
        const word = userProgress[index] || rung.word;
        const wordLength = word.length;
        
        for (let i = 0; i < wordLength; i++) {
          const letterBox = document.createElement('div');
          letterBox.className = 'letter-box';
          if (userProgress[index]) {
            letterBox.classList.add('filled');
            letterBox.textContent = word[i];
          }
          wordElement.appendChild(letterBox);
        }
        
        ladderRung.appendChild(wordElement);
        
        // Hint
        const hintElement = document.createElement('div');
        hintElement.className = 'ladder-hint';
        hintElement.textContent = rung.hint || '';
        ladderRung.appendChild(hintElement);
        
        wordLadder.appendChild(ladderRung);
      });
      
      // If completed, show completion message
      if (hasCompleted) {
        showCompletionMessage();
      }
    }
    
    // Handle form submission
    answerForm.addEventListener('submit', (e) => {
      e.preventDefault();
      
      if (hasCompleted) {
        return; // Game already completed
      }
      
      const answer = answerInput.value.trim().toUpperCase();
      
      if (!answer) {
        showStatus('Please enter a word', 'incorrect');
        return;
      }
      
      // Check if the answer is valid in the ladder
      checkAnswer(answer);
      
      // Clear input
      answerInput.value = '';
    });
    
    // Check if answer is valid
    function checkAnswer(answer) {
      let isCorrect = false;
      let correctPosition = -1;
      
      // Check against each unsolved word in the ladder
      for (let i = 0; i < currentPuzzle.ladder.length; i++) {
        if (solvedPositions.has(i)) continue; // Skip already solved positions
        
        if (currentPuzzle.ladder[i].word.toUpperCase() === answer) {
          isCorrect = true;
          correctPosition = i;
          break;
        }
      }
      
      if (isCorrect) {
        // Mark as solved
        userProgress[correctPosition] = currentPuzzle.ladder[correctPosition].word;
        solvedPositions.add(correctPosition);
        
        // Save progress
        saveProgress();
        
        // Show success message
        showStatus('Correct! Well done!', 'correct');
        
        // Update display
        displayWordLadder();
        
        // Check if all words are solved
        if (solvedPositions.size === currentPuzzle.ladder.length) {
          hasCompleted = true;
          localStorage.setItem(`vine_completed_${currentPuzzle.id}`, 'true');
          showCompletionMessage();
        }
      } else {
        // Deduct point for incorrect answer
        currentScore = Math.max(0, currentScore - 1);
        scoreDisplay.textContent = currentScore;
        
        // Save score
        localStorage.setItem(`vine_score_${currentPuzzle.id}`, currentScore.toString());
        
        // Show error message
        showStatus('Incorrect! Try again. (-1 point)', 'incorrect');
      }
    }
    
    // Show status message
    function showStatus(message, type) {
      statusMessage.textContent = message;
      statusMessage.className = 'status-message ' + type;
      statusMessage.style.display = 'block';
      
      // Hide after 3 seconds
      setTimeout(() => {
        statusMessage.style.display = 'none';
      }, 3000);
    }
    
    // Save progress to localStorage
    function saveProgress() {
      const storageKey = `vine_progress_${currentPuzzle.id}`;
      localStorage.setItem(storageKey, JSON.stringify(userProgress));
      localStorage.setItem(`vine_score_${currentPuzzle.id}`, currentScore.toString());
    }
    
    // Show completion message
    function showCompletionMessage() {
      completionMessage.style.display = 'block';
      answerForm.style.display = 'none';
      finalScore.textContent = currentScore;
      
      // Set up share functionality
      setupShareButton();
    }
    
    // Set up share button
    function setupShareButton() {
      shareButton.addEventListener('click', () => {
        // Create shareable text
        const shareText = createShareText();
        
        // On mobile, use the native share functionality if available
        if (navigator.share && /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
          navigator.share({
            text: shareText,
          })
          .then(() => {
            console.log('Successfully shared');
          })
          .catch((error) => {
            console.error('Error sharing:', error);
            // Fallback to copy
            copyToClipboard(shareText);
          });
        } else {
          // On desktop, just copy to clipboard
          copyToClipboard(shareText);
        }
      });
    }
    
    // Create share text
    function createShareText() {
      // Get date for share text
      let dateStr = '';
      if (currentPuzzle.date) {
        const date = new Date(currentPuzzle.date);
        dateStr = date.toLocaleDateString('en-US', { month: 'numeric', day: 'numeric', year: 'numeric' });
      }
      
      // Create emoji representation of the word ladder
      const ladderEmoji = currentPuzzle.ladder.map((rung, index) => {
        return solvedPositions.has(index) ? 'ðŸŸ©' : 'â¬œ';
      }).join('');
      
      return `Vine Word Ladder ${dateStr}\n\nI completed today's word ladder with a score of ${currentScore}!\n\n${ladderEmoji}\n\neviltrivia.com/games/vine`;
    }
    
    // Copy text to clipboard and show feedback
    function copyToClipboard(text) {
      navigator.clipboard.writeText(text)
        .then(() => {
          shareButton.innerHTML = `
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M20 6L9 17l-5-5"/>
            </svg>
            Copied!
          `;
          setTimeout(() => {
            shareButton.innerHTML = `
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
                <polyline points="16 6 12 2 8 6"></polyline>
                <line x1="12" y1="2" x2="12" y2="15"></line>
              </svg>
              Share Results
            `;
          }, 2000);
        })
        .catch(err => {
          console.error('Failed to copy text: ', err);
          shareButton.innerHTML = `
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="8" x2="12" y2="12"></line>
              <line x1="12" y1="16" x2="12.01" y2="16"></line>
            </svg>
            Error
          `;
          setTimeout(() => {
            shareButton.innerHTML = `
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
                <polyline points="16 6 12 2 8 6"></polyline>
                <line x1="12" y1="2" x2="12" y2="15"></line>
              </svg>
              Share Results
            `;
          }, 2000);
        });
    }
  </script>
</body>
</html> 