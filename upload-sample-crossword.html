<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Upload Sample Crossword</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 600px;
      margin: 50px auto;
      padding: 20px;
      background: #f5f5f5;
    }
    .card {
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .btn {
      background: #000;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
    }
    .btn:hover {
      background: #333;
    }
    .status {
      margin: 20px 0;
      padding: 10px;
      border-radius: 4px;
    }
    .success { background: #d4edda; color: #155724; }
    .error { background: #f8d7da; color: #721c24; }
  </style>
</head>
<body>
  <div class="card">
    <h1>Upload Sample Crossword</h1>
    <p>This utility will upload the sample 1_Gum.cfp crossword file to Firebase Storage so you can test the crossword functionality.</p>
    
    <button id="upload-btn" class="btn">Upload 1_Gum.cfp to Firebase</button>
    
    <div id="status"></div>
    
    <p><strong>After upload:</strong> Go to the wedding admin page → Crossword Files section → Use the uploaded file in your puzzle configuration.</p>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.2/firebase-app.js";
    import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/9.17.2/firebase-storage.js";

    // Firebase configuration (same as admin page)
    const firebaseConfig = {
        apiKey: "AIzaSyB8gYOdaOILv8bNfCNsqVWYTcgD-3O7OqA",
        authDomain: "eviltrivia-47664.firebaseapp.com",
        databaseURL: "https://eviltrivia-47664-default-rtdb.firebaseio.com",
        projectId: "eviltrivia-47664",
        storageBucket: "eviltrivia-47664.appspot.com",
        messagingSenderId: "401826818140",
        appId: "1:401826818140:web:c1df0bf4c602cc48231e99",
        measurementId: "G-2W6RK96Y34"
    };

    const app = initializeApp(firebaseConfig);
    const storage = getStorage(app);

    document.getElementById('upload-btn').addEventListener('click', async function() {
      const btn = this;
      const status = document.getElementById('status');
      
      btn.disabled = true;
      btn.textContent = 'Uploading...';
      status.innerHTML = '<div class="status">Fetching sample crossword file...</div>';
      
      try {
        // Create the sample CFP file content directly (no CORS issues)
        const cfpContent = `<?xml version="1.0" encoding="utf-8" standalone="no"?>
<CROSSFIRE>
    <VERSION>1</VERSION>
    <TITLE/>
    <AUTHOR/>
    <COPYRIGHT/>
    <GRID width="15">
DOC.ABACAB.DESI
INA.MILANO.ACTS
EAR.IGOTYA.BLAH
TWA.SMUT...HIS.
FIVE.IDLE.LAPSE
AREPAS.EXPENSES
DELICTI.TRIDENT
....TAP.RET....
BAZOOKA.ATEDIRT
OPENNESS.TRANIO
BLADE.SLAY.HOLM
.ALA...ECHO.NET
STAT.THETAB.EDO
PINE.REVERE.GUM
ANDS.FREDDY.OPS
</GRID>
    <CIRCLES>7,14,32,94,151,154,156,172,202,205,211,224</CIRCLES>
    <WORDS>
        <WORD dir="ACROSS" id="0" isTheme="false" num="1">Holliday, familiarly</WORD>
        <WORD dir="ACROSS" id="1" isTheme="false" num="4">Genesis album, or a convoluted rhyme scheme</WORD>
        <WORD dir="ACROSS" id="2" isTheme="false" num="10">___ Arnaz (50's comedian)</WORD>
        <WORD dir="ACROSS" id="3" isTheme="false" num="14">___ Garten (Barefoot Contessa)</WORD>
        <WORD dir="ACROSS" id="4" isTheme="false" num="15">Pepperidge farm cookie</WORD>
        <WORD dir="ACROSS" id="5" isTheme="false" num="16">Predecessor to Romans?</WORD>
        <WORD dir="ACROSS" id="6" isTheme="false" num="17">Something to lend</WORD>
        <WORD dir="ACROSS" id="7" isTheme="false" num="18">"Fooled you!"</WORD>
        <WORD dir="ACROSS" id="8" isTheme="false" num="19">So-so</WORD>
        <WORD dir="ACROSS" id="9" isTheme="false" num="20">JFK hotel</WORD>
        <WORD dir="ACROSS" id="10" isTheme="false" num="21">Filth</WORD>
        <WORD dir="ACROSS" id="11" isTheme="false" num="22">"____ Dark Materials"</WORD>
        <WORD dir="ACROSS" id="12" isTheme="true" num="23">* Lowest possible score in a Yahtzee game </WORD>
        <WORD dir="ACROSS" id="13" isTheme="false" num="25">Inactive</WORD>
        <WORD dir="ACROSS" id="14" isTheme="false" num="27">Slip</WORD>
        <WORD dir="ACROSS" id="15" isTheme="false" num="29">Venezuelan cornmeal cakes</WORD>
        <WORD dir="ACROSS" id="16" isTheme="false" num="31">Charges the corporate card</WORD>
        <WORD dir="ACROSS" id="17" isTheme="false" num="33">Corpus ____ (Proof of a crime)</WORD>
        <WORD dir="ACROSS" id="18" isTheme="true" num="35">* A fork in the sea</WORD>
        <WORD dir="ACROSS" id="19" isTheme="false" num="36">Type of dance</WORD>
        <WORD dir="ACROSS" id="20" isTheme="false" num="37">Old sgts., maybe</WORD>
        <WORD dir="ACROSS" id="21" isTheme="true" num="38">* Big gun</WORD>
        <WORD dir="ACROSS" id="22" isTheme="false" num="42">Wiped out, maybe</WORD>
        <WORD dir="ACROSS" id="23" isTheme="false" num="47">Candor</WORD>
        <WORD dir="ACROSS" id="24" isTheme="false" num="49">"Taming of the Shrew" servant</WORD>
        <WORD dir="ACROSS" id="25" isTheme="false" num="50">Snipes role</WORD>
        <WORD dir="ACROSS" id="26" isTheme="false" num="51">Modern term of encouragement</WORD>
        <WORD dir="ACROSS" id="27" isTheme="false" num="53">Ian who portrayed Bilbo</WORD>
        <WORD dir="ACROSS" id="28" isTheme="false" num="54">____ mode</WORD>
        <WORD dir="ACROSS" id="29" isTheme="false" num="55">Alexa for Alexas, probably</WORD>
        <WORD dir="ACROSS" id="30" isTheme="false" num="57">Not gross</WORD>
        <WORD dir="ACROSS" id="31" isTheme="false" num="58">Immediately</WORD>
        <WORD dir="ACROSS" id="32" isTheme="false" num="59">"I'll get ____" ("It's on me")</WORD>
        <WORD dir="ACROSS" id="33" isTheme="false" num="61">Tokyo before 1868</WORD>
        <WORD dir="ACROSS" id="34" isTheme="false" num="62">New Jersey's ____ Barrens</WORD>
        <WORD dir="ACROSS" id="35" isTheme="false" num="63">Paul of the Revolution</WORD>
        <WORD dir="ACROSS" id="36" isTheme="false" num="64">Dated term for a rain boot... or a hint the starred clues</WORD>
        <WORD dir="ACROSS" id="37" isTheme="false" num="65">Logical operators</WORD>
        <WORD dir="ACROSS" id="38" isTheme="false" num="66">Jason's foe, in a crossover</WORD>
        <WORD dir="ACROSS" id="39" isTheme="false" num="67">"Call of Duty: Black ____"</WORD>
        <WORD dir="DOWN" id="40" isTheme="false" num="1">South Beach, for one</WORD>
        <WORD dir="DOWN" id="43" isTheme="false" num="2">How Phillipe Petit got from place to place</WORD>
        <WORD dir="DOWN" id="45" isTheme="false" num="3">The Nina or the Pinta</WORD>
        <WORD dir="DOWN" id="49" isTheme="false" num="4">French friends</WORD>
        <WORD dir="DOWN" id="51" isTheme="false" num="5">Fatal error</WORD>
        <WORD dir="DOWN" id="53" isTheme="false" num="6">An annoying way to think, maybe</WORD>
        <WORD dir="DOWN" id="56" isTheme="false" num="7">Things on the prod</WORD>
        <WORD dir="DOWN" id="58" isTheme="false" num="8">Which card to take, at a magician's request</WORD>
        <WORD dir="DOWN" id="61" isTheme="false" num="9">____ constrictor</WORD>
        <WORD dir="DOWN" id="65" isTheme="false" num="10">English term for an expert</WORD>
        <WORD dir="DOWN" id="67" isTheme="true" num="11">* Umbra's cause</WORD>
        <WORD dir="DOWN" id="69" isTheme="false" num="12">Harold who sought the Republican presidential nomination nine times over 48 years</WORD>
        <WORD dir="DOWN" id="71" isTheme="false" num="13">Sorta</WORD>
        <WORD dir="DOWN" id="47" isTheme="false" num="24">Prefix with -center</WORD>
        <WORD dir="DOWN" id="59" isTheme="true" num="26">* When repeated, the beginning of an announcement</WORD>
        <WORD dir="DOWN" id="63" isTheme="false" num="27">Famed MLB pitcher Al, first to defeat 30 teams</WORD>
        <WORD dir="DOWN" id="72" isTheme="false" num="28">What means most in the end?</WORD>
        <WORD dir="DOWN" id="50" isTheme="false" num="30">The top?</WORD>
        <WORD dir="DOWN" id="62" isTheme="false" num="32">Like Michelangelo's statues?</WORD>
        <WORD dir="DOWN" id="54" isTheme="false" num="34">"Your turn"</WORD>
        <WORD dir="DOWN" id="41" isTheme="false" num="38">Apple action</WORD>
        <WORD dir="DOWN" id="44" isTheme="false" num="39">Where you might learn about Cicero</WORD>
        <WORD dir="DOWN" id="46" isTheme="false" num="40">New ____</WORD>
        <WORD dir="DOWN" id="48" isTheme="false" num="41">How many go to dinner</WORD>
        <WORD dir="DOWN" id="66" isTheme="false" num="43">Dit partner</WORD>
        <WORD dir="DOWN" id="68" isTheme="false" num="44">How a funnel lets one consume beer</WORD>
        <WORD dir="DOWN" id="70" isTheme="false" num="45">Got under one's skin</WORD>
        <WORD dir="DOWN" id="73" isTheme="false" num="46">Certain mapping devices</WORD>
        <WORD dir="DOWN" id="57" isTheme="false" num="48">Where a soldier keeps his arm?</WORD>
        <WORD dir="DOWN" id="60" isTheme="false" num="52">Did a bit</WORD>
        <WORD dir="DOWN" id="64" isTheme="false" num="56">Comply</WORD>
        <WORD dir="DOWN" id="42" isTheme="false" num="58">Relaxing place</WORD>
        <WORD dir="DOWN" id="52" isTheme="false" num="59">J-Pop band</WORD>
        <WORD dir="DOWN" id="55" isTheme="false" num="60">Opposite of 22-across</WORD>
    </WORDS>
    <NOTES/>
</CROSSFIRE>`;
        
        const fileBlob = new Blob([cfpContent], { type: 'application/xml' });
        status.innerHTML = '<div class="status">Uploading to Firebase Storage...</div>';
        
        // Upload to Firebase Storage
        const storageRef = ref(storage, 'wedding/crosswords/1_Gum.cfp');
        await uploadBytes(storageRef, fileBlob);
        
        // Get download URL
        const downloadURL = await getDownloadURL(storageRef);
        
        status.innerHTML = `
          <div class="status success">
            ✅ <strong>Upload successful!</strong><br>
            File: 1_Gum.cfp<br>
            <small>URL: ${downloadURL}</small>
          </div>
        `;
        
        btn.textContent = '✅ Upload Complete';
        
      } catch (error) {
        console.error('Upload error:', error);
        status.innerHTML = `
          <div class="status error">
            ❌ <strong>Upload failed:</strong><br>
            ${error.message}
          </div>
        `;
        
        btn.disabled = false;
        btn.textContent = 'Try Upload Again';
      }
    });
  </script>
</body>
</html> 